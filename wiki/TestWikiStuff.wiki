{{{
<properties>
    <jetty-plugin.version>8.1.0.v20120127</jetty-plugin.version>
    <webappDirectory>${project.build.directory}/${project.build.finalName}</webappDirectory>
</properties>
}}}

{{{
<plugins>
    <!-- Server for running Cucumber tests *TestInt.java -->
    <!-- 'mvn jetty:run' deploys and starts -->
    <!-- mvn jetty:start -->
    <!-- mvn jetty:stop -->
    <!-- mvn jetty:run -->
    <!-- mvn integration-test -Pintegration-test -->
    <plugin>
        <groupId>org.mortbay.jetty</groupId>
        <artifactId>jetty-maven-plugin</artifactId>
        <version>${jetty-plugin.version}</version>
        <configuration>
            <scanIntervalSeconds>10</scanIntervalSeconds>
            <stopPort>9966</stopPort>
            <stopKey>stop-jetty</stopKey>
            <webAppSourceDirectory>${webappDirectory}</webAppSourceDirectory>
            <webApp>
                <descriptor>${webappDirectory}/WEB-INF</descriptor>
            </webApp>
            <systemProperties>
                <systemProperty>
                    <name>jetty.port</name>
                    <value>8888</value>
                </systemProperty>
            </systemProperties>
        </configuration>
        <executions>
            <execution>
                <id>start-jetty</id>
                <phase>pre-integration-test</phase>
                <goals>
                    <goal>run</goal>
                </goals>
                <configuration>
                    <daemon>true</daemon>
                    <scanIntervalSeconds>0</scanIntervalSeconds>
                </configuration>
            </execution>
            <execution>
                <id>stop-jetty</id>
                <phase>post-integration-test</phase>
                <goals>
                    <goal>stop</goal>
                </goals>
            </execution>
        </executions>
    </plugin>
</plugins>
}}}

{{{
<plugins>
    <!-- Integration testing which runs clases *TestInt.java -->
    <!-- run 'mvn integration-test' -->
    <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-failsafe-plugin</artifactId>
        <version>${maven-failsafe-plugin.version}</version>
        <executions>
            <execution>
                <id>integration-test</id>
                <phase>integration-test</phase>
                <goals>
                    <goal>integration-test</goal>
                </goals>
                <configuration>
                    <includes>
                        <include>**/*TestInt.java</include>
                    </includes>
                </configuration>
            </execution>
            <execution>
                <id>verify</id>
                <phase>verify</phase>
                <goals>
                    <goal>verify</goal>
                </goals>
            </execution>
        </executions>
    </plugin>
</plugins>
}}}

{{{
}}}

{{{
}}}