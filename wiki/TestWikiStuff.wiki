{{{
    Timer ensureFbIsLoaded = new Timer() {
      @Override
      public void run() {
        if (isLoaded()) {
          facebookCallback.onSuccess();

          cancel();
        }
      }
    };
    ensureFbIsLoaded.scheduleRepeating(100);

  public native boolean isLoaded() /*-{
    if ($wnd.FB) {
      return true;
    } else {
      return false;
    }
  }-*/;
}}}